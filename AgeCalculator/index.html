<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width" , initial-scale="1.0">
        <title> Age calculator</title>
        <link rel="stylesheet" href="css/style.css">
    </head>
    <body>
        <div class="container">
            <div class="calculator">
                <h1>Javascript<br><span> Age Calculator</span></h1>
                <div class="input-box">
                    <input type="date" id="date">
                    <button onclick="calculateAge()">Calculate</button>
                </div>
                <p id="result"></p>
            </div>
        </div>
        <script>
            let userInput=document.getElementById("date");
            let result=document.getElementById("result")
            userInput.max=new Date().toISOString().split("T")[0]; //new Date(): Creates a new Date object representing the current date and time..toISOString(): Converts the Date object to a string in ISO format (e.g., 2024-06-27T14:23:16.789Z)..split("T")[0]: Splits the ISO string at the "T" character and takes the first part (the date part), resulting in a string like 2024-06-27.userInput.max: Sets the max attribute of the userInput element (an input element of type "date") to the current date in the format YYYY-MM-DD.

            function calculateAge(){
                let birthdate= new Date(userInput.value);

                let d1=birthdate.getDate();
                let m1=birthdate.getMonth()+1;
                let y1=birthdate.getFullYear();

                let today=new Date();
                let d2=today.getDate();
                let m2=today.getMonth()+1;
                let y2=today.getFullYear();

                let d3,m3,y3;

                y3=y2-y1;

                if (m2>=m1){
                    m3=m2-m1
                }else{
                    y3--;
                    m3=12+m2-m1;
                }

                if (d2>=d1){
                    d3=d2-d1;
                }else{
                    m3--;
                    d3=getDaysInMonth(y1,m1)+d2-d1;

                }
                if(m3<0){
                    m3=11;
                    y3--;
                }

                result.innerHTML=`You are <span>${y3}</span> years , <span>${m3}</span> months and <span> ${d3}</span> days old`;

            }
            function getDaysInMonth(year,month){
                return new Date(year,month,0).getDate();
            }
        </script>
    </body>
</html>